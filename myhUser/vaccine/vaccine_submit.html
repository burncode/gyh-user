<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="format-detection" content="telephone=no">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<title>填写资料</title>
		<link rel="stylesheet" href="../css/mui.min.css" />
		<link rel="stylesheet" href="../css/simple-calendar.css" />
		<link rel="stylesheet" href="../css/common.css" />
		<style>
			.sc-mark {
				background-color: #46efe7;
			}
			
			.sc-mark .day,
			.sc-mark .lunar-day {
				color: #fff !important;
			}
			
			#calendar {
				width: 100%
			}
			
			.clearfix {
				margin-bottom: 10px !important
			}
			
			select {
				width: auto !important;
				margin: 0
			}
			
			.main-calendar {
				margin: 10px 5px 0;
			}
			
			.mui-popover .mui-table-view {
				background-color: #fff;
			}
			
			.mui-popover.mui-popover-action .mui-table-view {
				margin: 0;
				border-radius: 0;
			}
			/*.mui-grid-view.mui-grid-9 .mui-table-view-cell{
				border: 1px solid #c8c7cc;    margin: 5px 0;
			}*/
			
			.mui-popover.mui-popover-action .mui-table-view .mui-table-view-cell:after {
				height: 0;
			}
			
			.mui-popover .mui-table-view .mui-table-view-cell:first-child,
			.mui-popover .mui-table-view .mui-table-view-cell:first-child>a:not(.mui-btn) {
				border-radius: 0;
			}
			
			.mui-popover .mui-table-view .mui-table-view-cell:last-child,
			.mui-popover .mui-table-view .mui-table-view-cell:last-child>a:not(.mui-btn) {
				border-radius: 0;
			}
			
			.time-h>p {
				text-align: justify;
				margin: 10px 18px;
			}
			
			.mui-grid-view.mui-grid-9 .mui-table-view-cell.mui-active {
				background-color: #46efe7;
			}
			
			.mui-grid-view.mui-grid-9 .mui-table-view-cell.mui-active p {
				color: #fff !important;
			}
			
			.mui-views,
			.mui-view,
			.mui-pages,
			.mui-page,
			.mui-page-content {
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				width: 100%;
				height: 100%;
				background-color: #fff;
			}
			
			.mui-pages {
				top: 44px;
				height: auto;
			}
			
			.mui-page.mui-transitioning {
				-webkit-transition: -webkit-transform 100ms ease;
				transition: transform 100ms ease;
			}
			
			.mui-page-left {
				-webkit-transform: translate3d(0, 0, 0);
				transform: translate3d(0, 0, 0);
			}
			
			.mui-ios .mui-page-left {
				-webkit-transform: translate3d(-20%, 0, 0);
				transform: translate3d(-20%, 0, 0);
			}
			
			.mui-navbar {
				position: fixed;
				right: 0;
				left: 0;
				z-index: 999;
				height: 44px;
				background-color: #FFFFFF;
			}
			
			.mui-navbar .mui-bar {
				position: absolute;
				background: transparent;
				text-align: center;
			}
			
			.mui-android .mui-navbar-inner.mui-navbar-left {
				opacity: 0;
			}
			
			.mui-ios .mui-navbar-left .mui-left,
			.mui-ios .mui-navbar-left .mui-center,
			.mui-ios .mui-navbar-left .mui-right {
				opacity: 0;
			}
			
			.mui-navbar .mui-btn-nav {
				-webkit-transition: none;
				transition: none;
				-webkit-transition-duration: .0s;
				transition-duration: .0s;
			}
			
			.mui-navbar .mui-bar .mui-title {
				display: inline-block;
				width: auto;
			}
			
			.mui-page {
				display: none;
			}
			
			.mui-pages .mui-page {
				display: block;
			}
			
			.plus-btn {
				display: block;
				width: 80%;
				height: 30px;
				line-height: 30px;
				text-align: center;
				font-size: 13px;
				margin: 10px auto;
				border: 1px solid #E6E4E0;
			}
		</style>
	</head>

	<body>
		<!--页面主结构开始-->
		<div id="app" class="mui-views">
			<div class="mui-view">
				<div class="mui-navbar"></div>
				<div class="mui-pages"></div>
			</div>
		</div>
		<!--页面主结构结束-->
		<!--单页面开始-->
		<div id="list" class="mui-page">
			<!--页面标题栏开始-->
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
				<h1 class="mui-center mui-title">填写资料</h1>
				<a href="#plus" class="mui-icon mui-icon-personadd mui-pull-right"></a>
			</div>
			<!--页面标题栏结束-->
			<!--页面主内容区开始-->
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-scroll">
					</div>
				</div>
			</div>
		</div>
		<div id="plus" class="mui-page">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
				<h1 class="mui-center mui-title">填写信息</h1>
			</div>
			<div class="mui-page-content">
				<div class='main-calendar'>
					<div id='calendar'></div>
				</div>
				<div id="time" class="mui-popover mui-popover-action mui-popover-bottom">
					<ul class="mui-table-view time-h">
						<p><span id="year">2018</span><span id="month">12</span><span id="day">12</span><span id="close" class="mui-icon mui-icon-closeempty mui-pull-right"></span></p>
						<p>香港沙头角xxxx诊所</p>
					</ul>
					<ul class="mui-table-view mui-grid-view mui-grid-9">
						<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<div>
								<p>10:00-11:00</p>
								<p>(0/3)</p>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<div>
								<p>11:00-12:00</p>
								<p>(0/3)</p>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<div>
								<p>14:00-15:00</p>
								<p>(0/3)</p>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<div>
								<p>15:00-16:00</p>
								<p>(0/3)</p>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<div>
								<p>16:00-17:00</p>
								<p>(0/3)</p>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<div>
								<p>17:00-18:00</p>
								<p>(0/3)</p>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</body>
	<script src="../js/mui.min.js"></script>
	<script type="text/javascript" src="../js/simple-calendar.js"></script>
	<script type="text/javascript" src="../js/mui.view.js"></script>
	<script src="../js/common.js"></script>
	<script>
		(function(_, doc, u, w) {
			_.init(), vaccinumId = null;
			
			//初始化单页view
			var viewApi = _('#app').view({
				defaultPage: '#list'
			});
			var view = viewApi.view;
			//处理view的后退与webview后退
			var oldBack = _.back;
			_.back = function() {
				if(viewApi.canBack()) { //如果view可以后退，则执行view的后退
					viewApi.back();
				} else { //执行webview后退
					oldBack();
				}
			};
			//监听页面切换事件方案1,通过view元素监听所有页面切换事件，目前提供pageBeforeShow|pageShow|pageBeforeBack|pageBack四种事件(before事件为动画开始前触发)
			//第一个参数为事件名称，第二个参数为事件回调，其中e.detail.page为当前页面的html对象
			view.addEventListener('pageBeforeShow', function(e) {});
			view.addEventListener('pageShow', function(e) {});
			view.addEventListener('pageBeforeBack', function(e) {});
			view.addEventListener('pageBack', function(e) {});
			
			_.plusReady(function() {
//				privateToken = w.getItem("privateToken");
//				web = plus.webview.currentWebview();
//				vaccinumId = web.vaccinumId;
//				name = web.name;
			})

			//点击预约
			_('#calendar').on('tap', '.sc-item.sc-mark', function() {
				console.log('tapyear=====' + document.getElementById("select-year").value);
				console.log('tapmouth=====' + document.getElementById("select-month").value);
				console.log('tapday=====' + this.querySelector('.day').innerHTML);

				_('#time').popover('toggle');
			})

			//选择时间
			_("#time").on('tap', '.mui-table-view-cell', function() {
				_('#time').popover('toggle');
			})

			var calendarObj = document.getElementById("calendar");
			var myCalendar = new SimpleCalendar('#calendar');
			//可预约日期
			var markObj = {
				'2018-1-4': '预约',
				'2018-1-10': '预约(12)',
				'2018-1-12': '预约',
				'2018-1-20': '预约',
				'2018-1-23': '预约'
			}
			myCalendar.addMark(markObj);

			document.getElementById("close").addEventListener('tap', function() {
				_('#time').popover('toggle');
			})
		})(mui, document, util, window)
	</script>

</html>